{% extends 'base.html' %}

{% block content %}

<!-- <div class="left-panel-wrapper">
    <div class="left-panel">
      some content some content some content some content some content some content some content some content some content
    </div>
</div> -->

<div>
    
    <div>
        <table class="table table-striped table-hover">
            <tr align="center" width = 100%>
                <th>RFID метка</th>
                <th>Серийный номер</th>
                <th>Вес НЕТТО</th>
                <th>Вес БРУТТО</th>
                <th>Статус</th>
                <th>Дата изменения</th>
                <th>Время изменения</th>
            </tr>
            {% for balloon in page_obj.object_list %}
            <tr align="center">
                <td>{{ balloon.nfc_tag }}</td>
                <td>{{ balloon.serial_number }}</td>
                <td>{{ balloon.netto }}</td>
                <td>{{ balloon.brutto }}</td>
                <td>{{ balloon.status }}</td>
                <td>{{ balloon.change_date }}</td>
                <td>{{ balloon.change_time }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div class="pagination">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a href="?page=1">&laquo; Начало</a>
                <a href="?page={{ page_obj.previous_page_number }}">назад</a>
            {% endif %}
    
            <span class="current">
                Лист {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}.
            </span>

            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">вперёд</a>
                <a href="?page={{ page_obj.paginator.num_pages }}">Конец &raquo;</a>
            {% endif %}
        </span>
    </div>

    <div > 
        <p>Количество баллонов за текущую смену: RFID-считыватель - {{ balloons_amount }}, оптический датчик - {{ current_quantity_by_sensor }}</p>
        <p>Количество баллонов за прошлую смену: RFID-считыватель - {{ previous_balloons_amount }}, оптический датчик - {{ previous_quantity_by_sensor }}</p>
        <!-- <p>Количество баллонов за {{ format_required_date }} - {{ required_date_amount }}</p> -->
    </div>
    
    <div >
        <form method="post" enctype="multipart/form-data">
           {% csrf_token %}
           {{ form }}
           <button class="btn btn-primary" style="margin: 5% 2% 5% 5%;" type="submit">Выгрузить отчёт за дату</button>
        </form>
   </div>

</div>

{% endblock content %}
